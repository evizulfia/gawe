name: CI and Deployment

on:
  push:
    branches:
      - '**'

jobs:
  ci:
    name: 🛠️ Run CI
    runs-on: ubuntu-latest
    steps:
    - name: 🚚 Get latest code
      uses: actions/checkout@v2.3.2
    # Add your CI steps here, e.g., running tests, linting, etc.
    - name: Run tests
      run: |
        echo "Running tests..."
        # Add your test commands here

  deploy:
    name: 🚀 Deploy website on push
    runs-on: ubuntu-latest
    if: github.ref == 'refs/heads/master'
    needs: ci
    steps:
    - name: 🚚 Get latest code
      uses: actions/checkout@v2.3.2
    
    - name: 📂 Sync files
      uses: SamKirkland/FTP-Deploy-Action@4.0.0
      with:
        server: 153.92.11.196
        username: u760825526
        password: ASDw123.
        server-dir: /public_html/gawe/
